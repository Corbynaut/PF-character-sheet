\addtemplate{Undead}
{
	\addfeature[companion = \ID]{Darkvision 60ft.}{}{}{}{}
	%\addfeature[companion = \ID]{Immunity to all mind-affecting effects}{}{}{}{}
	%\addfeature[companion = \ID]{Immunity to bleed, death effects, disease, paralysis, poison, sleep effects, and stunning}{}{}{}{}
	%\addfeature[companion = \ID]{Immunity to any effect that requires a Fortitude save}{}{}{}{}
}

\addtemplate{Skeleton}
{
	\loadtemplate{Undead}
	\ifthenelse{\value{\ID sizeindex} = -1}{
		\addtypedbonus[companion = \ID]{ac}{natural}{1}
	}
	{
		\ifthenelse{\value{\ID sizeindex} = 0\OR \value{\ID sizeindex} = 1}{
			\addtypedbonus[companion = \ID]{ac}{natural}{2}
		}
		{
			\ifthenelse{\value{\ID sizeindex} = 2}{
				\addtypedbonus[companion = \ID]{ac}{natural}{3}
			}
			{
				\ifthenelse{\value{\ID sizeindex} = 3}{
					\addtypedbonus[companion = \ID]{ac}{natural}{6}
				}
				{
					\ifthenelse{\value{\ID sizeindex} > 3}{
						\addtypedbonus[companion = \ID]{ac}{natural}{10}
					}
					{
						\addtypedbonus[companion = \ID]{ac}{natural}{0}
					}
				}
			}
		}
	}
	\addtypedbonus[companion = \ID]{dex}{untyped}{2}
	\addfeat[companion = \ID]{Improved Initiative}{}{\addtypedbonus[companion = \ID]{initiative}{untyped}{4}}
	\global\expandafter\def\csname \ID damagereduction\endcsname{5/B}
}

\addtemplate{Bloody Skeleton}
{
	\loadtemplate{Skeleton}
	\setcounter{tmpcount7}{\value{\ID levelcount}/2}
	\addfeature[companion = \ID]{Fast Healing \arabic{tmpcount7}}{}{}{}{}
	\addfeature[companion = \ID]{Channel resistance +4}{}{}{}{}
	\addfeature[companion = \ID]{Deathless}{}{}{}{}
	\setattribute[companion = \ID]{cha}{14}
}

\addtemplate{Zombie}
{

}

%%[optional parameter]{NAME}{HIT DICE}{HIT POINTS}{SIZE}{STR}{DEX}{TEMPLATE}{ADDITIONAL PARAMETERS}
\animatedead[number = 7, bucket = spell]{Testecles}{12}{90}{Huge}{16}{10}{Bloody Skeleton}
{	
	\race[companion = \ID]{Storm giant}{30}
	\begin{Weapon}
		[companion = \ID, enhancement= 0, calculate size = 0, notes = trip] Katana (Large), 1d8, 18-20/x2, -, S, 12, -;
		[companion = \ID, enhancement= 0, calculate size = 0, notes = note] Katana (Large), 1d8, 18-20/x2, -, S, 12, -;
		[companion = \ID, enhancement= 0, calculate size = 0] Katana (Large), 1d8, 18-20/x2, -, S, 12, -;
	\end{Weapon}
}
\animatedead{Skeleton}{10}{80}{Medium}{20}{16}{Skeleton}
{
	\begin{Weapon}
		[companion = \ID, enhancement= 0, calculate size = 0] Katana (Large), 1d8, 18-20/x2, -, S, 12, -;
		[companion = \ID, enhancement= 0, calculate size = 0] Katana (Large), 1d8, 18-20/x2, -, S, 12, -;
		[companion = \ID, enhancement= 0, calculate size = 0] Katana (Large), 1d8, 18-20/x2, -, S, 12, -;
		[companion = \ID, enhancement= 0, calculate size = 0] Katana (Large), 1d8, 18-20/x2, -, S, 12, -;
	\end{Weapon}
	\addfeat[companion = \ID]{test}{}{}
	\addfeature[companion = \ID]{test}{}{}{}{}
}
\animatedead[number = 3, bucket = feat]{Skeleton}{10}{80}{Medium}{20}{16}{Skeleton}
{
	\begin{Weapon}
		[companion = \ID, enhancement= 0, calculate size = 0, notes = trip] Katana (Large), 1d8, 18-20/x2, -, S, 12, -;
		[companion = \ID, enhancement= 0, calculate size = 0, notes = note] Katana (Large), 1d8, 18-20/x2, -, S, 12, -;
		[companion = \ID, enhancement= 0, calculate size = 0, notes = trip] Katana (Large), 1d8, 18-20/x2, -, S, 12, -;
		[companion = \ID, enhancement= 0, calculate size = 0] Katana (Large), 1d8, 18-20/x2, -, S, 12, -;
	\end{Weapon}
	\addfeat[companion = \ID]{test}{}{}
	\addfeature[companion = \ID]{test}{}{}{}{}
}
\animatedead[number = 7, bucket = corpse companion]{Skeleton}{10}{80}{Medium}{20}{16}{Skeleton}
{
	\begin{Weapon}
		[companion = \ID, enhancement= 0, calculate size = 0] Katana (Large), 1d8, 18-20/x2, -, S, 12, -;
		[companion = \ID, enhancement= 0, calculate size = 0] Katana (Large), 1d8, 18-20/x2, -, S, 12, -;
	\end{Weapon}
	\addfeat[companion = \ID]{test}{}{}
	\addfeature[companion = \ID]{test}{}{}{}{}
}